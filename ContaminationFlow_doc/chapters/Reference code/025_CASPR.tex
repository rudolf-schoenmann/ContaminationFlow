% !TeX root = ../main.tex
% Add the above to each chapter to make compiling the PDF easier in some editors.

\chapter{The CASPR Toolbox}\label{chapter:CASPR}

In the previous chapter, it was shown that it is possible to send desired forces to a simulated robot with the MyoMuscle plug-in. However, usually these forces are not known beforehand. Instead, there is a desired position given that has to be converted to the respective forces. This is called the inverse kinematics problem and is very hard to solve for tendon-driven robots due to the lack of state-of-the-art tools and algorithms. A possible solution is CASPR for Matlab or CASPROS for ROS\cite{CASPR}. As the Roboy project operates on ROS, it is recommended to use CASPROS.

CASPR, cable-robot Analysis and Simulation Platform for Research, is a platform that allows the study for a wide range of analysis of arbitrary types of cable-driven parallel robots\cite{CASPR} â€“ and therefore should in theory be able to work with humanoid tendon-driven robots. Possible analysis includes forward and inverse kinematics, forward and inverse dynamics, control and workspace analysis. For this purpose, there already exists several robot models, joint and link types as well as an already implemented framework and algorithms for analysis. The design of CASPR enables easy implementation of new robot models and analysis algorithms\cite{CASPR}. Therefore using CASPR, it should be possible to add tendon-driven robot models of the Roboy project to CASPR and perform inverse kinematics analysis to compute the forces corresponding to the desired angles for these models. Indeed, the inverse kinematics is already implemented for a real hardware model of the Roboy project, the MyoArm\cite{CASPR}. Finally, the tool chain for the inverse kinematics problem has to be completed, e.g.\ with IKFast\cite{openrave} or ROS MoveIt\cite{moveit}, to convert the desired position to the respective angles.

During this work, it was established that solving the inverse kinematics should be left to future work. In order to study the human body and brain, a working simulation of humanoid or other biology-inspired robots is necessary. As shown in the previous chapter, some problems were encountered while setting up and working with the simulation. Furthermore, so far the simulation was only tested with a small amount of robots. This and the complexity of the inverse kinematics problem for tendon-driven robots lead to the decision to focus on improving the simulation rather than adding the inverse kinematics and CASPR to the tool chain. It is essential for the current state of research, i.e.\ the MyoMuscle plug-in, to work properly before expanding it. To improve the simulation, more robot models are needed to perform and analyze experiments. Therefore, it was decided to create new tendon-driven robot models that can be used in the simulation to develop and improve it. The following chapter describes how new robot models are created and how the MyoMuscle plug-in is added to them.